<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>–°–∫–∞—á–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Å–∞–π—Ç</title>
    <link rel="stylesheet" href="styles.css">
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è ZIP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>
<body>
    <a class="skip-link" href="#main">–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É</a>
    
    <header class="header" role="banner">
        <nav class="nav" aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
            <ul>
                <li><a href="index.html" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="about.html" class="nav-link">–û –Ω–∞—Å</a></li>
                <li><a href="download.html" class="nav-link" aria-current="page">–°–∫–∞—á–∞—Ç—å</a></li>
                <li><a href="contacts.html" class="nav-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
            </ul>
        </nav>
    </header>

    <main id="main" class="main">
        <section class="download-section">
            <div class="container">
                <h1 class="section-title">–°–∫–∞—á–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</h1>
                
                <div class="download-card">
                    <div class="download-icon">üì¶</div>
                    <h2 class="download-title">ZIP-–∞—Ä—Ö–∏–≤ —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏</h2>
                    <p class="download-description">–°–∫–∞—á–∞–π—Ç–µ ZIP-—Ñ–∞–π–ª, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π 5 —Ä–µ–∞–ª—å–Ω—ã—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞</p>
                    
                    <div class="file-info">
                        <p><strong>–§–æ—Ä–º–∞—Ç:</strong> .zip</p>
                        <p><strong>–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:</strong> 5 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ JPEG</p>
                        <p><strong>–ü—Ä–∏–º–µ—Ä–Ω—ã–π —Ä–∞–∑–º–µ—Ä:</strong> 500KB</p>
                    </div>
                    
                    <button class="button button-primary" onclick="downloadPhotosZip()" aria-label="–°–∫–∞—á–∞—Ç—å ZIP –∞—Ä—Ö–∏–≤ —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏">
                        –°–∫–∞—á–∞—Ç—å ZIP —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏
                    </button>
                </div>

                <!-- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π -->
                <div class="photos-preview">
                    <h2 class="preview-title">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –≤ –∞—Ä—Ö–∏–≤–µ:</h2>
                    <div class="real-photos-grid">
                        <div class="real-photo-item">
                            <img src="images/obj1.png" alt="–°–∞–π—Ç –ú–∏—Ä—ç–∞" class="real-photo">
                            <p class="photo-name">obj1.png</p>
                        </div>
                        <div class="real-photo-item">
                            <img src="images/obj2.png" alt="–°–∞–π—Ç –¢–µ–ª–µ–≥—Ä–∞–º" class="real-photo">
                            <p class="photo-name">obj2.png</p>
                        </div>
                        <div class="real-photo-item">
                            <img src="images/obj3.png" alt="–°–∞–π—Ç –ì–∏—Ç—Ö–∞–±" class="real-photo">
                            <p class="photo-name">obj3.png</p>
                        </div>
                        <div class="real-photo-item">
                            <img src="images/obj4.png" alt="–°–∞–π—Ç –î–∏–ø—Å–∏–∫" class="real-photo">
                            <p class="photo-name">obj4.png</p>
                        </div>
                        <div class="real-photo-item">
                            <img src="images/obj5.png" alt="–°–∞–π—Ç –î—Ä–æ–º" class="real-photo">
                            <p class="photo-name">obj5.png</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Å–∞–π—Ç. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            <p>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–ª—è —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –±—É–¥—É—â–µ–≥–æ</p>
        </div>
    </footer>

    <script>
        async function downloadPhotosZip() {
            try {
                const zip = new JSZip();
                
                // –ú–∞—Å—Å–∏–≤ —Å –ø—É—Ç—è–º–∏ –∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º
                const photos = [{ name: 'hero-photo.jpg', path: 'images/hero-photo.jpg' },
                    { name: 'obj1.png', path: 'images/obj1.png' },
                    { name: 'obj2.png', path: 'images/obj2.png' },
                    { name: 'obj3.png', path: 'images/obj3.png' },
                    { name: 'obj4.png', path: 'images/obj4.png' },
                    { name: 'obj5.png', path: 'images/obj5.png' }
                ];

                // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞–∂–¥—É—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –∏ –¥–æ–±–∞–≤–ª—è–µ–º –≤ ZIP
                for (const photo of photos) {
                    try {
                        const response = await fetch(photo.path);
                        if (response.ok) {
                            const blob = await response.blob();
                            zip.file(photo.name, blob);
                        } else {
                            console.warn(`–§–æ—Ç–æ ${photo.name} –Ω–µ –Ω–∞–π–¥–µ–Ω–æ: ${photo.path}`);
                        }
                    } catch (error) {
                        console.warn(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ ${photo.name}:`, error);
                    }
                }

                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º ZIP —Ñ–∞–π–ª
                const content = await zip.generateAsync({type: 'blob'});
                
                // –°–∫–∞—á–∏–≤–∞–µ–º
                const url = URL.createObjectURL(content);
                const link = document.createElement('a');
                link.href = url;
                link.download = '—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏-–ø—Ä–æ–µ–∫—Ç–∞.zip';
                link.click();
                URL.revokeObjectURL(url);
                
                showSuccessMessage('ZIP-–∞—Ä—Ö–∏–≤ —Å–∫–∞—á–∞–Ω!');
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è ZIP:', error);
                showErrorMessage('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∞—Ä—Ö–∏–≤–∞');
            }
        }

        function showSuccessMessage(text) {
            const notification = document.createElement('div');
            notification.className = 'success';
            notification.textContent = text;
            notification.style.display = 'block';
            notification.style.position = 'fixed';
            notification.style.top = '20px';
            notification.style.right = '20px';
            notification.style.zIndex = '1001';
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transition = 'opacity 0.5s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 500);
            }, 3000);
        }

        function showErrorMessage(text) {
            const notification = document.createElement('div');
            notification.className = 'error';
            notification.textContent = text;
            notification.style.display = 'block';
            notification.style.position = 'fixed';
            notification.style.top = '20px';
            notification.style.right = '20px';
            notification.style.zIndex = '1001';
            notification.style.background = '#dc3545';
            notification.style.color = 'white';
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                document.body.removeChild(notification);
            }, 5000);
        }
    </script>
</body>
</html>